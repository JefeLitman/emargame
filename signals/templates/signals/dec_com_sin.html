{% extends "global/Page.html" %}
{% load staticfiles otree %}

{% block title %}
    Usted es el Comprador
{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
<style type="text/css">

    th.tg{
      color: #009846;
      text-align: center;
      border-collapse:collapse;
      border-spacing:0;
      border: 1px solid black;
    }

    td.ta{
      color: blue;
      border-collapse:collapse;
      border-spacing:0;
      border: 1px solid black;
    }

    td.tg-baqh{
      text-align: center;
      border-collapse:collapse;
      border-spacing:0;
      border: 1px solid black;
    }

    h2{
      color: #05257f;
    }

    table.table{
      border-collapse:collapse;
      border-spacing:0;
      border: 1px solid black;
    }
</style>

<div align="center">
    <table class="table">
      <tr>
        <th class="tg">Calidad</th>
        <th class="tg">1</th>
        <th class="tg">2</th>
        <th class="tg">3</th>
        <th class="tg">4</th>
        <th class="tg">5</th>
      </tr>
      <tr>
        <td class="ta">Costo</td>
        <td class="tg-baqh">100</td>
        <td class="tg-baqh">200</td>
        <td class="tg-baqh">300</td>
        <td class="tg-baqh">400</td>
        <td class="tg-baqh">500</td>
      </tr>
      <tr>
        <td class="ta">Valor</td>
        <td class="tg-baqh">500</td>
        <td class="tg-baqh">1000</td>
        <td class="tg-baqh">1500</td>
        <td class="tg-baqh">2000</td>
        <td class="tg-baqh">2500</td>
      </tr>
    </table>
</div>

<br/>

    <p>
        Mensaje El vendedor está ofreciendo un producto de calidad {{group.calidad_ofrecida}}<br/>
        El precio de venta es {{group.precio_vendedor}}<br/>
    </p>

    <p><b>¿Desea comprar el bien?</b></p>
    <div>
        <button type="button" id="boton_si" class="btn btn-primary btn-large">Si</button>
        <button id="no" name="decision_vendedor" value="False" class="btn btn-primary btn-large">No</button>
        <div id="warning" class="alert alert-danger" style="visibility: hidden;">
            <strong>Error!</strong> Porfavor, asegurese que la calidad real y ofrecida sean iguales.
        </div>
        <div style="visibility: hidden;">
          <button id="si" name="decision_vendedor" value="True" class="btn btn-primary btn-large">Si</button>
        </div>
    </div>
    <script>
        function validar()
        {
            var calidad = parseInt(document.getElementById("id_calidad_real").value);
            var mensaje = parseInt(document.getElementById("id_calidad_ofrecida").value);
            var precio_vendedor = parseInt(document.getElementById("id_precio_vendedor").value);
            if (precio_vendedor >= 500*calidad)
            {
                return true;
            }
            else
            {
                return false;
            }
        }
        function mostrar()
        {
            document.getElementById("warning").style.visibility="hidden";
        }
        function enviar() {
          if(validar())
          {
            document.getElementById("si").click();
          }
          else
          {
            document.getElementById("warning").style.visibility="visible";
            window.setTimeout(mostrar, 3000);
          }
        }
        document.getElementById("boton_si").onclick=enviar;
    </script>

{% endblock %}
